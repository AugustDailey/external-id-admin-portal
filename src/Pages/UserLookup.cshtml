@page
@model UserLookupModel
@{
    ViewData["Title"] = "User Lookup";
}

<h2>User Lookup</h2>

<!-- Search Form -->
<form method="post" asp-page-handler="Search">
    <div style="margin-bottom: 10px;">
        <label for="searchAttribute" style="display: block; font-weight: bold;">Select Attribute:</label>
        <select name="SelectedAttribute" style="width: 400px; padding: 6px;">
            @foreach (var item in Model.SearchableAttributes)
            {
                <option value="@item.Value" selected="@item.Selected">@item.Text</option>
            }
        </select>

    </div>
    <div style="margin-bottom: 10px;">
        <label for="searchValue" style="display: block; font-weight: bold;">Enter Search Value:</label>
        <input type="text" id="searchValue" name="SearchValue" value="@Model.SearchValue" style="width: 400px; padding: 6px;" />
    </div>
    <button type="submit">Search</button>
</form>



@if (Model.UserAttributes != null && Model.UserAttributes.Count > 0)
{
    <h3>Edit User Attributes</h3>

    <!-- Editable Form -->
    <form method="post" asp-page-handler="Save">
        @foreach (var attr in Model.UserAttributes)
        {
            <div style="margin-bottom: 10px;">
                <label style="display: block; font-weight: bold;">@attr.Key</label>
                <input type="text" name="UserAttributes[@attr.Key]" value="@attr.Value" style="width: 400px; padding: 6px;" />
            </div>
        }

        <button type="submit">Save</button>
    </form>

}
